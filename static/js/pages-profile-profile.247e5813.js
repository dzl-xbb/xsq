(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-profile-profile"],{1217:function(e,t,a){"use strict";a.r(t);var n=a("e950"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},"135d":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */.title-primary[data-v-a3cee1f8]{font-size:%?42?%;font-weight:700}.ellipsis-2row[data-v-a3cee1f8]{word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n  /* 这里是超出几行省略 */overflow:hidden}.bg-active[data-v-a3cee1f8]{background-image:linear-gradient(-20deg,#b721ff,#21d4fd)}.bg-inactive[data-v-a3cee1f8]{background-image:linear-gradient(0deg,#fbc2eb 0,#a6c1ee)}\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */uni-page-body[data-v-a3cee1f8]{background-color:#f1f1f1}body.?%PAGE?%[data-v-a3cee1f8]{background-color:#f1f1f1}.user[data-v-a3cee1f8]{padding:%?20?%}.user .top[data-v-a3cee1f8]{height:%?300?%;background:#bbb;padding:0 %?30?%;border-radius:%?20?%;padding-top:0;position:relative;display:flex;align-items:center;overflow:hidden}.user .top .group[data-v-a3cee1f8]{position:relative;z-index:10;display:flex;align-items:center;justify-content:space-between;width:100%;color:#fff}.user .top .group .userinfo[data-v-a3cee1f8]{display:flex;width:100%;align-items:center}.user .top .group .userinfo .pic[data-v-a3cee1f8]{width:%?120?%;height:%?120?%;border-radius:50%;overflow:hidden;border:2px solid #fff}.user .top .group .userinfo .pic uni-image[data-v-a3cee1f8]{width:100%;height:100%}.user .top .group .userinfo .text[data-v-a3cee1f8]{padding-left:%?20?%}.user .top .group .userinfo .text .nickname[data-v-a3cee1f8]{font-size:%?44?%;font-weight:600}.user .top .group .userinfo .text .year[data-v-a3cee1f8]{font-size:%?26?%;opacity:.6;padding-top:%?5?%}.user .top .group .more .iconfont[data-v-a3cee1f8]{font-size:%?40?%}.user .top .bg[data-v-a3cee1f8]{position:absolute;-webkit-filter:blur(20px);filter:blur(20px);-webkit-transform:scale(2);transform:scale(2);top:0;left:0;width:100%;height:100%;overflow:hidden}.user .main[data-v-a3cee1f8]{width:100%;min-height:%?200?%}.user .main .info[data-v-a3cee1f8]{padding:%?10?% %?30?%;display:flex;font-size:%?30?%}.user .main .info .item[data-v-a3cee1f8]{padding-right:%?20?%;color:#888;font-weight:500}.user .main .info .item uni-text[data-v-a3cee1f8]{font-weight:600;color:#333}.user .main .info .item .stat[data-v-a3cee1f8]{margin-left:%?8?%}',""]),e.exports=t},"1e19":function(e,t,a){var n=a("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */.title-primary[data-v-ad4cdd84]{font-size:%?42?%;font-weight:700}.ellipsis-2row[data-v-ad4cdd84]{word-break:break-all;text-overflow:ellipsis;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;\r\n  /* 这里是超出几行省略 */overflow:hidden}.bg-active[data-v-ad4cdd84]{background-image:linear-gradient(-20deg,#b721ff,#21d4fd)}.bg-inactive[data-v-ad4cdd84]{background-image:linear-gradient(0deg,#fbc2eb 0,#a6c1ee)}\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.card[data-v-ad4cdd84]{box-sizing:border-box;background-color:#fff;border-radius:%?20?%;padding:%?20?%}.title[data-v-ad4cdd84]{font-weight:700;margin-bottom:%?40?%}.content[data-v-ad4cdd84]{display:flex;flex-wrap:wrap}.content-item[data-v-ad4cdd84]{flex-basis:25%;display:flex;flex-direction:column;align-items:center;margin-bottom:%?30?%;font-size:%?24?%}.content-item .text[data-v-ad4cdd84]{margin-top:%?15?%}',""]),e.exports=t},"1f69":function(e,t,a){var n=a("1e19");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("a063d380",n,!0,{sourceMap:!1,shadowMode:!1})},"24ab":function(e,t,a){var n=a("135d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("4f06").default;i("14c01eae",n,!0,{sourceMap:!1,shadowMode:!1})},2776:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){}));var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"card"},[a("v-uni-view",{staticClass:"title"},[e._t("title",[e._v("这是v-shot:title")])],2),a("v-uni-view",{staticClass:"content"},[e._l(e.contents.list,(function(t,n){return[a("v-uni-view",{staticClass:"content-item",on:{click:function(a){arguments[0]=a=e.$handleEvent(a),e.itemClick(t,n)}}},[a("v-uni-text",{staticClass:"iconfont d-icon",class:t.icon,staticStyle:{"font-size":"60rpx"},style:{color:t.color}}),a("v-uni-text",{staticClass:"text"},[e._v(e._s(t.desc))])],1)]}))],2)],1)},i=[]},2960:function(e,t,a){"use strict";a.r(t);var n=a("cbcb"),i=a("d24b");for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("3865");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"a3cee1f8",null,!1,n["a"],void 0);t["default"]=s.exports},3865:function(e,t,a){"use strict";var n=a("24ab"),i=a.n(n);i.a},"96cd":function(e,t,a){"use strict";(function(e,n){a("7a82");var i=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(a("c7eb")),o=i(a("1da1")),s=a("b748"),c=a("0685"),u=a("b2eb"),d=(i(a("7ddd")),e.database()),l={onShow:function(e){var t=this;return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getTotal();case 1:case"end":return e.stop()}}),e)})))()},data:function(){return{isLogin:!0,cardConfig:s.cardConfig,totalObj:{artNum:0,likeNum:0,commentNum:0}}},computed:{userInfo:function(){return c.store.userInfo},hasLogin:function(){return c.store.hasLogin}},methods:{getTotal:function(){var e=this;return(0,o.default)((0,r.default)().mark((function t(){var a,i,o,s,c,u,l,f,v,p,g;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.hasLogin){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,d.collection("article").where("user_id == $cloudEnv_uid").count();case 4:return v=t.sent,e.totalObj.artNum=null!==(a=null===(i=v.result)||void 0===i?void 0:i.total)&&void 0!==a?a:0,t.next=8,d.collection("article").where("user_id == $cloudEnv_uid").groupBy("user_id").groupField("sum(like_count) as totalScore").get();case 8:return p=t.sent,e.totalObj.likeNum=null!==(o=null===(s=p.result)||void 0===s||null===(c=s.data[0])||void 0===c?void 0:c.totalScore)&&void 0!==o?o:0,t.next=12,d.collection("article").where("user_id == $cloudEnv_uid").groupBy("user_id").groupField("sum(comment_count) as commentTotal").get();case 12:g=t.sent,n.log("评论",{commentCount:g}),e.totalObj.commentNum=null!==(u=null===(l=g.result)||void 0===l||null===(f=l.data[0])||void 0===f?void 0:f.commentTotal)&&void 0!==u?u:0;case 15:case"end":return t.stop()}}),t)})))()},tempClick:function(){},handleClick:function(e){var t=e.item;"emit"==t.type&&"loginOut"==t.effect?this.loginOut():"emit"==t.type&&"about"==t.effect&&uni.showModal({title:"提示",content:"写点什么好呢？就写这句吧 ^_^"})},loginOut:function(){return(0,o.default)((0,r.default)().mark((function e(){return(0,r.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n.log("loginOut"),e.next=4,(0,u.loginRelease)();case 4:uni.showModal({title:"是否确认退出?",success:function(e){n.log(e),e.confirm&&c.mutations.logout()}}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),n.log("伪错误",{e:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},goUserInfo:function(){c.store.hasLogin?uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/userinfo/userinfo"}):uni.navigateTo({url:"/uni_modules/uni-id-pages/pages/login/login-withpwd?uniIdRedirectUrl=/"+this.$mp.page.route})}}};t.default=l}).call(this,a("a9ff")["default"],a("5a52")["default"])},b748:function(e,t,a){"use strict";a("7a82"),Object.defineProperty(t,"__esModule",{value:!0}),t.cardConfig=void 0,a("caad");var n=a("0685"),i=["feedBack","about"],r={before:function(e){return n.store.hasLogin||i.includes(e.effect)?{status:"success"}:{status:"error",error:"请登录~~"}},list:[{desc:"我的发布",path:"/pages/article/list",icon:"icon-a-24-bianji",color:"#5DC9E6"},{desc:"我的点赞",path:"/pages/like/like",icon:"icon-a-106-xihuan",color:"#FF6D60"},{desc:"我的评论",path:"/pages/comment-list/comment-list",icon:"icon-a-21-xiugai",color:"#22823A"},{desc:"关于",type:"emit",effect:"about",icon:"icon-a-32-wenjian",color:"#D14D72"},{desc:"意见反馈",path:"/uni_modules/uni-feedback/pages/opendb-feedback/opendb-feedback",effect:"feedBack",icon:"icon-a-5-xinxi",color:"#009FBD"},{type:"emit",effect:"loginOut",desc:"退出登录",icon:"icon-a-73-tuichu",color:"#E8A0BF"}]};t.cardConfig=r},cae4:function(e,t,a){"use strict";var n=a("1f69"),i=a.n(n);i.a},cbcb:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n}));var n={uAvatar:a("23ee").default,uniDateformat:a("8478").default,uIcon:a("1ed0").default,cardShow:a("dfaf").default},i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-uni-view",{staticClass:"user"},[a("v-uni-view",{staticClass:"top",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.goUserInfo.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"group"},[a("v-uni-view",{staticClass:"userinfo"},[a("v-uni-view",{staticClass:"pic"},[a("u-avatar",{attrs:{src:e.hasLogin&&e.userInfo.avatar_file&&e.userInfo.avatar_file.url||"",size:"100%"}})],1),e.hasLogin?a("v-uni-view",{staticClass:"text"},[a("v-uni-view",{staticClass:"nickname"},[e._v(e._s(e.userInfo.nickname||e.userInfo.username||e.userInfo.mobile||"未登录"))]),a("v-uni-view",{staticClass:"year"},[a("uni-dateformat",{attrs:{date:e.userInfo.register_date,threshold:[3600,3122064e6]}}),e._v("注册")],1)],1):a("v-uni-view",{staticClass:"text"},[a("v-uni-view",{staticClass:"nickname"},[e._v("点击登录")])],1)],1),a("v-uni-view",{staticClass:"more"},[a("u-icon",{attrs:{name:"arrow-right",color:"#fff",size:"30rpx"}})],1)],1),a("v-uni-view",{staticClass:"bg",class:e.isLogin?"bg-active":"bg-inactive"})],1),a("v-uni-view",{staticClass:"main"},[a("card-show",{staticStyle:{"margin-top":"20rpx"},attrs:{contents:e.cardConfig},on:{EmitClick:function(t){arguments[0]=t=e.$handleEvent(t),e.handleClick.apply(void 0,arguments)}}},[a("v-uni-view",{staticClass:"info",attrs:{slot:"title"},slot:"title"},[a("v-uni-view",{staticClass:"item"},[e._v("文章被赞"),a("v-uni-text",{staticClass:"stat"},[e._v(e._s(e.totalObj.likeNum))])],1),a("v-uni-view",{staticClass:"item"},[e._v("文章被评"),a("v-uni-text",{staticClass:"stat"},[e._v(e._s(e.totalObj.commentNum))])],1),a("v-uni-view",{staticClass:"item"},[e._v("我的发文"),a("v-uni-text",{staticClass:"stat"},[e._v(e._s(e.totalObj.artNum))])],1)],1)],1)],1)],1)},r=[]},d24b:function(e,t,a){"use strict";a.r(t);var n=a("96cd"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return n[e]}))}(r);t["default"]=i.a},dfaf:function(e,t,a){"use strict";a.r(t);var n=a("2776"),i=a("1217");for(var r in i)["default"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return i[e]}))}(r);a("cae4");var o=a("f0c5"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"ad4cdd84",null,!1,n["a"],void 0);t["default"]=s.exports},e950:function(e,t,a){"use strict";(function(e){a("7a82");var n=a("4ea4").default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(a("c7eb")),r=n(a("1da1")),o=(a("b2eb"),{name:"card-show",props:{contents:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{itemClick:function(t,a){var n=this;return(0,r.default)((0,i.default)().mark((function r(){var o;return(0,i.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(i.prev=0,"emit"==t.type){i.next=5;break}return o=n.contents.before(t),"success"==o.status?uni.navigateTo({url:t.path}):uni.showToast({title:o.error,icon:"none"}),i.abrupt("return");case 5:n.$emit("EmitClick",{item:t,index:a}),i.next=11;break;case 8:i.prev=8,i.t0=i["catch"](0),e.log("伪错误",i.t0);case 11:case"end":return i.stop()}}),r,null,[[0,8]])})))()}}});t.default=o}).call(this,a("5a52")["default"])}}]);